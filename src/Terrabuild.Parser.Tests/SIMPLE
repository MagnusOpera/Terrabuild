terrabuild {
  storage = "azureblob"
  sourcecontrol = none
}

target "build" {
  depends_on = [ "^build" ]
}

target "dist" {
  depends_on = [ "build" ]
}

target "publish" {
  depends_on = [ "dist" ]
}

environment "release" {
  configuration = "Release"
}

extension "dotnet" {
  container = none
  container = "mcr.microsoft.com/dotnet/sdk:8.0.101"
  parameters {
    configuration = "$(configuration)"
  }
}
