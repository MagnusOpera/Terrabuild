
extension @docker {
    defaults = {
        image: "ghcr.io/magnusopera/dotnet-app"
        arguments: { configuration: $configuration }
    }
}

project dotnet_app @dotnet {
    labels = [ "app"
               "dotnet" ]

    files = [ "**/*"
              "../shared-folder/**/*" ]
}

target build {
    @dotnet build { }
}

target dist {
    @dotnet publish { }
}

target docker {
    @docker build { }
}

target push {
    @docker push { }
}
