builders:
  dotnet:
  docker:
    parameters:
      image: ghcr.io/magnusopera/dotnet-app

steps:
  build:
    - (dotnet): build

  dist:
    - (dotnet): publish

  docker:
    - (docker): build
      arguments:
        configuration: $(configuration)

  push:
    - (docker): push

labels:
  - app
  - dotnet
