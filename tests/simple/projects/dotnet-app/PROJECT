builders:
  dotnet:
  docker:
    use: docker
    with: Dockerfile
    parameters:
      image: ghcr.io/magnus-opera/project3

steps:
  build:
    - (dotnet): build

  dist:
    - (dotnet): publish

  docker:
    - (docker): build
      arguments:
        configuration: $(configuration)

  push:
    - (docker): push

labels:
  - app
  - dotnet
