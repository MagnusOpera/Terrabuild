builders:
  dotnet:
    use: dotnet
    with: project3.csproj

  docker:
    use: docker
    with: Dockerfile
    parameters:
      $configuration: $(configuration)

steps:
  build:
    - (dotnet): build

  publish:
   - (dotnet): publish

  docker:
   - (docker): build
     image: $(image)

  push:
   - (docker): push
     image: $(image)
     tag: 666

variables:
  image: ghcr.io/magnus-opera/project3
